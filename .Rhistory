QSummary <- read.csv(url(discharge.2015))
# Import rain gauge data #
caribou.2015.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vSolN8YGaUlUlcQjw9EaklcgcJu3b5L80X8Y-xX_ePg-CDOzZ07LDpl-aGBYvLwnvIhLB8Gm5Q66BWk/pub?output=csv"
caribou.2015.gauge <- read.csv(url(caribou.2015.url), skip = 4)
names(caribou.2015.gauge) <- c("DateTimeGMT", "Precip")
caribou.2015.gauge$DateTimeGMT[caribou.2015.gauge$DateTimeGMT == ""] <- NA
caribou.2015.gauge$DateTimeAK = as.POSIXct(caribou.2015.gauge$DateTimeGMT, "%m/%d/%y %H:%M", tz="America/Anchorage")
# Rename columns #
names(moos.stream) <- c("Date", "AbsolutePressure")
names(frch.stream) <- c("Date", "AbsolutePressure")
#Convert time and put in AK time
moos.stream$DateTimeAK <- mdy_hm(moos.stream$Date)
attributes(moos.stream$DateTimeAK)$tzone <-'America/Anchorage'
frch.stream$DateTimeAK <- mdy_hm(frch.stream$Date)
attributes(frch.stream$DateTimeAK)$tzone <-'America/Anchorage'
QSummary$date <- mdy(QSummary$date)
QSummary$DateTimeAK <- as.POSIXct(paste(QSummary$date, QSummary$time), format = "%Y-%m-%d %H:%M", tz = "America/Anchorage")
all <- ggplot(QSummary) +
geom_point(aes(x=date, y=Q..L.s., color=site), size=3) +
scale_color_manual(values=c("#FF7F00","#A6761D")) +
theme_classic() +
ggtitle("ALL SITES")
all
a <- QSummary %>% filter(site == "Moose") %>%
ggplot() +
geom_point(aes(x=date, y=Q..L.s., color = site), size=3) +
scale_color_manual(values=c("#A6761D")) +
theme_classic() +
ggtitle("Moose")
a
b <- QSummary %>% filter(site == "French") %>%
ggplot() +
geom_point(aes(x=date, y=Q..L.s., color = site), size=3) +
scale_color_manual(values=c("#FF7F00")) +
theme_classic() +
ggtitle("French")
b
plot_grid(all, NA,
a, b,
nrow = 2, ncol = 2)
eielson.atmo.2015.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vSx5CyMTHZWjvTaYfNQcDZw7U59URY8v6PSJvH4bGwjtSkbD0picwdOJCyBqg3_BGcjwHztwT0b1sQT/pub?output=csv"
eielson.atmo.2015 <- read.csv(url(eielson.atmo.2015.url), skip = 6)
eielson.atmo.2015 <- eielson.atmo.2015[-1,]
names(eielson.atmo.2015) <- c("Site", "DateTimeAK", "sea_level_pressure", "1_day")
eielson.atmo.2015$DateTimeAK <- mdy_hm(eielson.atmo.2015$DateTimeAK)
eielson.atmo.2015$DateTimeAK <- force_tz(eielson.atmo.2015$DateTimeAK, "America/Anchorage")
eielson.atmo.2015$DateTimeAK <- lubridate::round_date(eielson.atmo.2015$DateTimeAK, "15 minutes")
eielson.atmo.2015$AirPressure <- as.numeric(eielson.atmo.2015$sea_level_pressure)
eielson.atmo.2015$sea_level_pressure <- as.numeric(eielson.atmo.2015$sea_level_pressure)
eielson.atmo.2015$AirPressure <- eielson.atmo.2015$AirPressure*3.38639 # converting from inHG to kPa
eielson.atmo.2015 <- subset(eielson.atmo.2015, DateTimeAK > "2015-05-01" & DateTimeAK < "2015-10-31")
# correcting for elevation
eielson.atmo.2015$mmHG <- eielson.atmo.2015$sea_level_pressure * 25.44 # converting to mmHG
# conversion to elevation at each site
# MOOS
eielson.atmo.2015$mmHGcorrectedMOOS <- eielson.atmo.2015$mmHG - (2.5*574/100)
eielson.atmo.2015$AirPressureCorrectedMOOS <- eielson.atmo.2015$mmHGcorrectedMOOS * 0.133322 # converting this to kPA to compare with MOOS PT
# FRCH
eielson.atmo.2015$mmHGcorrectedFRCH <- eielson.atmo.2015$mmHG - (2.5*601/100)
eielson.atmo.2015$AirPressureCorrectedFRCH <- eielson.atmo.2015$mmHGcorrectedFRCH * 0.133322 # converting this to kPA
ggplot(aes(x = DateTimeAK, y = AirPressureCorrectedMOOS), data = eielson.atmo.2015) +
geom_line(aes(x = DateTimeAK, y = AirPressureCorrectedMOOS), data = eielson.atmo.2015, color="#A6761D") +
geom_line(aes(x = DateTimeAK, y = AirPressureCorrectedFRCH), data = eielson.atmo.2015, color="#FF7F00") +
theme_classic() +
ggtitle("Eielson corrected to MOOS (Brown) & Eielson corrected to FRCH (Orange)")
plot(caribou.2015.gauge$Precip~ caribou.2015.gauge$DateTimeAK, type="h",
xlim = as.POSIXct(c("2015-05-14 04:05:00","2015-09-22 02:20:00"), tz="America/Anchorage"),
ylim = c(20,0),
axes=F, xlab="", ylab="")
par(new = T)
plot(x = moos.stream$DateTimeAK, y = moos.stream$AbsolutePressure, type = "l")
plot(x = moos.stream$DateTimeAK, y = moos.stream$AbsolutePressure, type = "l")
moos.stream <- moos.stream %>% subset(moos.stream$DateTimeAK < "2015-09-20 18:30:00") # PT was taken out on the 21st
#june to july
moos.stream.1 <- moos.stream %>% subset(moos.stream$DateTimeAK < "2015-07-01 00:00:00" & moos.stream$DateTimeAK > "2015-06-01 00:00:00")
plot(moos.stream.1$DateTimeAK, moos.stream.1$AbsolutePressure, type = "l")
which(moos.stream.1$AbsolutePressure < 102)
moos.stream.1[c(4052, 5270:5277), 2] <- NA
#july to august
moos.stream.2 <- moos.stream %>% subset(moos.stream$DateTimeAK < "2015-08-01 00:00:00" & moos.stream$DateTimeAK > "2015-07-01 00:00:00")
plot(moos.stream.2$DateTimeAK, moos.stream.2$AbsolutePressure, type = "l")
which(moos.stream.2$AbsolutePressure < 102)
moos.stream.2$AbsolutePressure[moos.stream.2$AbsolutePressure == "99.188"] <- NA
moos.stream.2[2047, 2] <- NA
#august to September
moos.stream.3 <- moos.stream %>% subset(moos.stream$DateTimeAK < "2015-09-01 00:00:00" & moos.stream$DateTimeAK > "2015-08-01 00:00:00")
plot(moos.stream.3$DateTimeAK, moos.stream.3$AbsolutePressure, type = "l")
which(moos.stream.3$AbsolutePressure < 102)
moos.stream.3[c(2679,2680,2681,2683), 2] <- NA
#September to October
moos.stream.4 <- moos.stream %>% subset(moos.stream$DateTimeAK < "2015-10-01 00:00:00" & moos.stream$DateTimeAK > "2015-09-01 00:00:00")
plot(moos.stream.4$DateTimeAK, moos.stream.4$AbsolutePressure, type = "l")
moos.stream[c(9187, 10405:10412, 15822, 25382:25384, 25386), 2] <- NA
plot(x = moos.stream$DateTimeAK, y = moos.stream$AbsolutePressure, type = "l")
plot(as.POSIXct(moos.stream$DateTimeAK, tz= "America/Anchorage"), moos.stream$AbsolutePressure, pch=10, col="black",
xlab = "",
ylab = "Pressure",
#ylim = c(200, 250),
xlim = as.POSIXct(c("2015-05-15 00:00:00", "2015-05-21 00:00:00")))
moos.stream <- moos.stream %>%
mutate(across(c(AbsolutePressure),
~ifelse(DateTimeAK >= "2015-05-15" & DateTimeAK <= "2015-05-21" & AbsolutePressure < 102, NA, .)))
moos.stream <- moos.stream %>%
mutate(across(c(AbsolutePressure),
~ifelse(AbsolutePressure < 101, NA, .)))
ggplot(moos.stream, aes(x = DateTimeAK, y = AbsolutePressure)) +
geom_point()
moos.stream <- na_kalman(moos.stream)
ggplot(moos.stream, aes(x = DateTimeAK, y = AbsolutePressure)) +
geom_point()
write.csv(moos.stream, "~/Documents/DoD_Discharge/PT_data/2015/moos.pt.2015.csv", row.names = FALSE)
plot(caribou.2015.gauge$Precip~ caribou.2015.gauge$DateTimeAK, type="h",
xlim = as.POSIXct(c("2015-05-14 04:05:00","2015-09-22 02:20:00"), tz="America/Anchorage"),
ylim = c(20,0),
axes=F, xlab="", ylab="")
par(new = T)
plot(x = frch.stream$DateTimeAK, y = frch.stream$AbsolutePressure, type = "l")
```{r, echo=FALSE, warning=FALSE}
frch.stream <- frch.stream %>%  subset(frch.stream$DateTimeAK < "2015-09-20 18:30:00") # PT was taken out on the 21st
#May to june
frch.stream.1 <- frch.stream %>% subset(frch.stream$DateTimeAK < "2015-06-01 00:00:00" & frch.stream$DateTimeAK > "2015-05-20 00:00:00")
plot(frch.stream.1$DateTimeAK, frch.stream.1$AbsolutePressure, type = "l")
which(frch.stream.1$AbsolutePressure < 102)
frch.stream.1[c(1535, 2047:2060), 2] <- NA
#Juneto july
frch.stream.2 <- frch.stream %>% subset(frch.stream$DateTimeAK < "2015-07-01 00:00:00" & frch.stream$DateTimeAK > "2015-06-01 00:00:00")
plot(frch.stream.2$DateTimeAK, frch.stream.2$AbsolutePressure, type = "l")
which(frch.stream.2$AbsolutePressure < 100)
frch.stream.2[c(49,2052,4111,5213:5241), 2] <- NA
#July to August # no cleaning necessary
frch.stream.3 <- frch.stream %>% subset(frch.stream$DateTimeAK < "2015-08-01 00:00:00" & frch.stream$DateTimeAK > "2015-07-01 00:00:00")
plot(frch.stream.3$DateTimeAK, frch.stream.3$AbsolutePressure, type = "l")
#August to September
frch.stream.4 <- frch.stream %>% subset(frch.stream$DateTimeAK < "2015-09-01 00:00:00" & frch.stream$DateTimeAK > "2015-08-01 00:00:00")
plot(frch.stream.4$DateTimeAK, frch.stream.4$AbsolutePressure, type = "l")
which(frch.stream.4$AbsolutePressure < 100)
frch.stream.4[c(2641:2656, 4631:4654), 2] <- NA
#September to October # no cleaning necessary
frch.stream.5 <- frch.stream %>% subset(frch.stream$DateTimeAK < "2015-10-01 00:00:00" & frch.stream$DateTimeAK > "2015-09-01 00:00:00")
plot(frch.stream.5$DateTimeAK, frch.stream.5$AbsolutePressure, type = "l")
frch.stream[c(3215,3727:3740,5185,7188,9247,10349:10377,25340:25355,27328:27353), 2] <- NA
plot(x = frch.stream$DateTimeAK, y = frch.stream$AbsolutePressure, type = "l")
frch.stream <- frch.stream %>%
mutate(across(c(AbsolutePressure),
~ifelse(DateTimeAK >= "2015-05-01" & DateTimeAK <= "2015-06-01" & AbsolutePressure < 102, NA, .)))
ggplot(frch.stream, aes(x = DateTimeAK, y = AbsolutePressure)) +
geom_point()
frch.stream <- na_kalman(frch.stream)
plot(caribou.2015.gauge$Precip~ caribou.2015.gauge$DateTimeAK, type="h",
xlim = as.POSIXct(c("2015-05-14 04:05:00","2015-09-22 02:20:00"), tz="America/Anchorage"),
ylim = c(20,0),
axes=F, xlab="", ylab="")
par(new = T)
plot(x = frch.stream$DateTimeAK, y = frch.stream$AbsolutePressure, type = "l")
ggplot(frch.stream, aes(x = DateTimeAK, y = AbsolutePressure)) +
geom_point()
write.csv(frch.stream, "~/Documents/DoD_Discharge/PT_data/2015/frch.pt.2015.csv", row.names = FALSE)
### Filter MOOS ###
QSummary.MO <- QSummary %>% filter(site =="Moose")
ggplot(QSummary.MO) +
geom_point(aes(x = DateTimeAK, y = Q..L.s., color = site), size=3) +
theme_classic() +
scale_color_manual(values=c("#A6761D")) +
ggtitle("MOOS")
#join the atmospheric and water pressure together
moos.stream$site <- "Moose"
MOOS.2015.one <- left_join(eielson.atmo.2015, moos.stream, by = "DateTimeAK")
# Water pressure - atmospheric pressure
MOOS.2015.one$difference <- MOOS.2015.one$AbsolutePressure - MOOS.2015.one$AirPressureCorrectedMOOS
View(MOOS.2015.one)
# trying to merge by nearest date if we have an offset point
MOOS.2015.one.dt <- setDT(MOOS.2015.one)
MOOS.2015.one.dt <- subset(MOOS.2015.one.dt, DateTimeAK < "2015-09-20 18:00:00") # removing rows that had dates corresponding to end of record that messed up the rolling nearest function
View(MOOS.2015.one.dt)
QSummary.MO.dt <- QSummary.MO
Moose1comb.2015 <- MOOS.2015.one.dt[QSummary.MO.dt, on = "DateTimeAK", roll = 'nearest']
MOOS1.lm.2015 <- lm(Moose1comb.2015$Q..L.s. ~ Moose1comb.2015$difference)
View(Moose1comb.2015)
# plot rating curve
moos.formula = y~x
ggplot(aes(x = difference, y = Q..L.s.), data = Moose1comb.2015) +
geom_point(aes(color = Method), size = 3) +
geom_smooth(method = "lm", se=FALSE, formula = moos.formula) +
stat_poly_eq(formula = moos.formula,
aes(label = paste(..eq.label.., ..rr.label.., sep = "~~~")),
parse = TRUE) +
#xlim(216, 216.4) +
#ylim(0,1500) +
theme_light() +
ggtitle("Moose all measured Q")
ggplot(aes(x = difference, y = Q..L.s.), data = Moose1comb.2015) +
geom_point(site = color), size = 3) +
ggplot(aes(x = difference, y = Q..L.s.), data = Moose1comb.2015) +
geom_point(size = 3) +
geom_smooth(method = "lm", se=FALSE, formula = moos.formula) +
stat_poly_eq(formula = moos.formula,
aes(label = paste(..eq.label.., ..rr.label.., sep = "~~~")),
parse = TRUE) +
#xlim(216, 216.4) +
#ylim(0,1500) +
theme_light() +
ggtitle("Moose all measured Q")
Moose1comb.2015.part.two <- Moose1comb.2015 %>%
mutate(across(c(date),
~ifelse(date = "2015-05-14" & date = "2015-05-18" , NA, .)))
Moose1comb.2015.part.two <- Moose1comb.2015 %>%
mutate(across(c(date),
~ifelse(date == "2015-05-14" & date == "2015-05-18" , NA, .)))
View(Moose1comb.2015.part.two)
Moose1comb.2015.part.two <- Moose1comb.2015 %>%
mutate(across(c(Q..L.s.),
~ifelse(date == "2015-05-14", NA, .)))
Moose1comb.2015.part.two <- Moose1comb.2015.part.two %>%
mutate(across(c(Q..L.s.),
~ifelse(date == "2015-05-18", NA, .)))
ggplot(aes(x = difference, y = Q..L.s.), data = Moose1comb.2015.part.two) +
geom_point(size = 3) +
geom_smooth(method = "lm", se=FALSE, formula = moos.formula) +
stat_poly_eq(formula = moos.formula,
aes(label = paste(..eq.label.., ..rr.label.., sep = "~~~")),
parse = TRUE) +
#xlim(216, 216.4) +
#ylim(0,1500) +
theme_light() +
ggtitle("Moose all measured Q")
MOOS1.lm.2015 <- lm(Moose1comb.2015.part.two$Q..L.s. ~ Moose1comb.2015.part.two$difference)
Moose1comb.2015.part.two$pred.moos1.Q <- coef(MOOS1.lm.2015)[2] * Moose1comb.2015.part.two$AbsolutePressure+ coef(MOOS1.lm)[1]
Moose1comb.2015.part.two$pred.moos1.Q <- coef(MOOS1.lm.2015)[2] * Moose1comb.2015.part.two$AbsolutePressure+ coef(MOOS1.lm.2015)[1]
ggplot(aes(x = DateTimeAK, y = pred.moos1.Q), data = Moose1comb.2015) +
geom_line(color="#A6CEE3", size=1.25) +
geom_point(aes(x = DateTimeAK, y = Q..L.s.), size=3) +
theme_classic() +
ggtitle("Moose1 predicted all measured Q") +
xlab("Date") +
ylab("Predicted Discharge")
ggplot(aes(x = DateTimeAK, y = pred.moos1.Q), data = Moose1comb.2015.part.two) +
geom_line(color="#A6CEE3", size=1.25) +
geom_point(aes(x = DateTimeAK, y = Q..L.s.), size=3) +
theme_classic() +
ggtitle("Moose1 predicted all measured Q") +
xlab("Date") +
ylab("Predicted Discharge")
Moose1comb <- full_join(moos.stream, QSummary.MO) # Join PT data with Discharge
Moose1comb$pred.moos1.Q <- coef(MOOS1.lm.2015)[2] * Moose1comb$AbsolutePressure+ coef(MOOS1.lm.2015)[1]
ggplot(aes(x = DateTimeAK, y = pred.moos1.Q), data = Moose1comb) +
geom_line(color="#A6CEE3", size=1.25) +
geom_point(aes(x = DateTimeAK, y = Q..L.s.), size=3) +
theme_classic() +
ggtitle("Moose1 predicted all measured Q") +
xlab("Date") +
ylab("Predicted Discharge")
MOOS1.lm <- lm(Moose1comb$Q..L.s. ~ Moose1comb$difference)
View(Moose1comb)
Moose1comb <- full_join(MOOS.2015.one, QSummary.MO) # Join PT data with Discharge
MOOS1.lm <- lm(Moose1comb$Q..L.s. ~ Moose1comb$difference)
Moose1comb$pred.moos1.Q <- coef(MOOS1.lm)[2] * Moose1comb$AbsolutePressure+ coef(MOOS1.lm)[1]
ggplot(aes(x = DateTimeAK, y = pred.moos1.Q), data = Moose1comb) +
geom_line(color="#A6CEE3", size=1.25) +
geom_point(aes(x = DateTimeAK, y = Q..L.s.), size=3) +
theme_classic() +
ggtitle("Moose1 predicted all measured Q") +
xlab("Date") +
ylab("Predicted Discharge")
### Filter FRCH ###
QSummary.FR <- QSummary %>% filter(site =="French")
ggplot(QSummary.FR) +
geom_point(aes(x = DateTimeAK, y = Q..L.s., color = site), size=3) +
theme_classic() +
scale_color_manual(values=c("#A6761D")) +
ggtitle("MOOS")
ggplot(QSummary.FR) +
geom_point(aes(x = DateTimeAK, y = Q..L.s., color = site), size=3) +
theme_classic() +
scale_color_manual(values=c("#FF7F00")) +
ggtitle("FRCH")
#join the atmospheric and water pressure together
frch.stream$site <- "French"
FRCH.2015.one <- left_join(eielson.atmo.2015, frch.stream, by = "DateTimeAK")
# Water pressure - atmospheric pressure
FRCH.2015.one$difference <- FRCH.2015.one$AbsolutePressure - FRCH.2015.one$AirPressureCorrectedFRCH
# trying to merge by nearest date if we have an offset point
FRCH.2015.one.dt <- setDT(FRCH.2015.one)
View(FRCH.2015.one.dt)
FRCH.2015.one.dt <- subset(FRCH.2015.one.dt, DateTimeAK < "2015-09-20 19:00:00") # removing rows that had dates corresponding to end of record that messed up the rolling nearest function
QSummary.FR.dt <- QSummary.FR
French1comb.2015 <- FRCH.2015.one.dt[QSummary.FR.dt, on = "DateTimeAK", roll = 'nearest']
View(French1comb.2015)
FRCH1.lm.2015 <- lm(French1comb.2015$Q..L.s. ~ French1comb.2015$difference)
# plot rating curve
frch.formula = y~x
ggplot(aes(x = difference, y = Q..L.s.), data = French1comb.2015) +
geom_point(size = 3) +
geom_smooth(method = "lm", se=FALSE, formula = frch.formula) +
stat_poly_eq(formula = frch.formula,
aes(label = paste(..eq.label.., ..rr.label.., sep = "~~~")),
parse = TRUE) +
#xlim(216, 216.4) +
#ylim(0,1500) +
theme_light() +
ggtitle("French all measured Q")
# Load packages #
library(tidyverse)
library(lubridate)
library(data.table)
library(rio)
library(ggplot2)
library(scales)
library(psych)
library(here)
library(googledrive)
library(readxl)
library(cowplot)
library(zoo)
library(readr)
library(dplyr)
library(RColorBrewer)
library(gridExtra)
library(ggpmisc)
library(birk)
moos.stream.one.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vRo04g32Yr3DsZbXQiw6VTPfgWuWq5csh1VhxfMy3IT3U6OkJOGvTlofjXwFfugiaRVJ34pPnOUZ3te/pub?output=csv"
moos.stream.one.2022 <- read.csv(url(moos.stream.one.2022.url), skip = 1)
moos.stream.one.2022
install.packages(c("birk", "ggpmisc"))
install.packages(c("birk", "ggpmisc"))
# Load packages #
library(tidyverse)
library(lubridate)
library(data.table)
library(rio)
library(ggplot2)
library(scales)
library(psych)
library(here)
library(googledrive)
library(readxl)
library(cowplot)
library(zoo)
library(readr)
library(dplyr)
library(RColorBrewer)
library(gridExtra)
library(ggpmisc)
install.packages("ggpmisc")
library(birk)
# Import data from google drive #
discharge.2022 <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vQR6HHHDpnxc6DmNHfdNLR9-dgDHR5Imt0Ve4_t2DzIF18_8D3O2da5zcWQzJUSoFQfaetPZDeXZ610/pub?gid=0&single=true&output=csv"
QSummary.2022 <- read.csv(url(discharge.2022))
### Format Time ###
QSummary.2022$Date <- mdy(QSummary.2022$Date)
QSummary.2022$DateTimeAK <- as.POSIXct(paste(QSummary.2022$Date, QSummary.2022$Time), format = "%Y-%m-%d %H:%M", tz = "America/Anchorage")
QSummary.2022$DateTimeAK <- lubridate::round_date(QSummary.2022$DateTimeAK, "60 minutes")
### ALL Sites ###
ggplot(QSummary.2022) +
geom_point(aes(x=DateTimeAK, y=MeasuredQ_Ls, color=Site, shape=Method), size=3) +
theme_classic() +
scale_color_manual(values=c("#FF7F00","#A6761D", "#6A3D9A", "#66C2A5", "#E7298A")) +
ggtitle("ALL SITES")
eielson.atmo.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vRNaeqSnSANyg1akwelIH50Oh3undYyZkhoMku-n0Y9JTpLOY3jK7BJwQlA2ktP40MFZ3OzYdjnGmFm/pub?output=csv"
eielson.atmo.2022 <- read.csv(url(eielson.atmo.2022.url), skip = 6)
eielson.atmo.2022 <- eielson.atmo.2022[-1,]
names(eielson.atmo.2022) <- c("Site", "DateTimeAK", "TempC", "sea_level_pressure", "AirPressure")
eielson.atmo.2022$DateTimeAK <- mdy_hm(eielson.atmo.2022$DateTimeAK)
eielson.atmo.2022$DateTimeAK <- lubridate::round_date(eielson.atmo.2022$DateTimeAK, "15 minutes")
eielson.atmo.2022$DateTimeAK <- force_tz(eielson.atmo.2022$DateTimeAK, "America/Anchorage")
eielson.atmo.2022$AirPressure <- as.numeric(eielson.atmo.2022$AirPressure)
eielson.atmo.2022$AirPressure <- eielson.atmo.2022$AirPressure*3.38639 # converting from inHG to kPa
### MOOS ####
```{r setup, include=FALSE}
# Load in water pressure data
# urls
moos.atmo.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ7QMNWjVX1R43qflIW7lVqkj7wRHouhgQhWK76kfR8zK-UZg9bFSm92ccPy8T0luhFHKwsLNQQjA56/pub?output=csv"
moos.stream.one.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vRo04g32Yr3DsZbXQiw6VTPfgWuWq5csh1VhxfMy3IT3U6OkJOGvTlofjXwFfugiaRVJ34pPnOUZ3te/pub?output=csv"
moos.stream.two.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vQRXmAtoP_7I2RYEDZrdCT1LDyD8W3Thjst549srxdlWDMUYUyBjiGABd8pgtZE9Efa8b4Vgb3qtyoc/pub?output=csv"
# load in data
moos.atmo.2022 <- read.csv(url(moos.atmo.2022.url), skip = 1)
moos.stream.one.2022 <- read.csv(url(moos.stream.one.2022.url), skip = 1)
moos.stream.two.2022 <- read.csv(url(moos.stream.two.2022.url), skip = 1)
# cleaning df to be able to interpret and merge
moos.atmo.2022 <- moos.atmo.2022[, -c(5:11)] # removing columns that aren't date/abs pressure and temp
moos.stream.one.2022 <- moos.stream.one.2022[, -c(5:8)] # removing columns that aren't date/abs pressure and temp
moos.stream.two.2022 <- moos.stream.two.2022[, -c(5:13)] # removing columns that arent date/abs pressure and temp
frch.stream.two.2022.url <-  "https://docs.google.com/spreadsheets/d/e/2PACX-1vRiDAbzBj_jHk1Hd3iM7fFvzMrRCSF9fbKTcmQD_dUFGOjoIQuBZBKV4KdNhfevLOq0Udch0LbWiKXw/pub?output=csv"
frch.stream.two.2022 <- read.csv(url(frch.stream.two.2022.url), skip = 1)
frch.stream.two.2022
View(frch.stream.two.2022)
install.packages("ggpmisc")
install.packages("ggpmisc")
install.packages("ggpmisc")
# Load in water pressure data
# urls
moos.atmo.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ7QMNWjVX1R43qflIW7lVqkj7wRHouhgQhWK76kfR8zK-UZg9bFSm92ccPy8T0luhFHKwsLNQQjA56/pub?output=csv"
moos.stream.one.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vRo04g32Yr3DsZbXQiw6VTPfgWuWq5csh1VhxfMy3IT3U6OkJOGvTlofjXwFfugiaRVJ34pPnOUZ3te/pub?output=csv"
moos.stream.two.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vQRXmAtoP_7I2RYEDZrdCT1LDyD8W3Thjst549srxdlWDMUYUyBjiGABd8pgtZE9Efa8b4Vgb3qtyoc/pub?output=csv"
# load in data
moos.atmo.2022 <- read.csv(url(moos.atmo.2022.url), skip = 1)
moos.stream.one.2022 <- read.csv(url(moos.stream.one.2022.url), skip = 1)
moos.stream.two.2022 <- read.csv(url(moos.stream.two.2022.url), skip = 1)
# cleaning df to be able to interpret and merge
moos.atmo.2022 <- moos.atmo.2022[, -c(5:11)] # removing columns that aren't date/abs pressure and temp
moos.stream.one.2022 <- moos.stream.one.2022[, -c(5:8)] # removing columns that aren't date/abs pressure and temp
moos.stream.two.2022 <- moos.stream.two.2022[, -c(5:13)] # removing columns that arent date/abs pressure and temp
# changing datetime to AK time
moos.atmo.2022$DateTimeAK <- mdy_hms(moos.atmo.2022$Date.Time..GMT.08.00)
moos.stream.one.2022$DateTimeAK <- mdy_hms(moos.stream.one.2022$Date.Time..GMT.08.00)
moos.stream.two.2022$DateTimeAK <- mdy_hms(moos.stream.two.2022$Date.Time..GMT.08.00)
# Load packages #
library(tidyverse)
library(lubridate)
library(data.table)
library(rio)
library(ggplot2)
library(scales)
library(psych)
library(here)
library(googledrive)
library(readxl)
library(cowplot)
library(zoo)
library(readr)
library(dplyr)
library(RColorBrewer)
library(gridExtra)
library(ggpmisc)
install.packages("ggpmisc")
install.packages("ggpmisc")
library(tidyverse)
library(lubridate)
library(data.table)
library(rio)
library(ggplot2)
library(scales)
library(psych)
library(here)
library(googledrive)
library(readxl)
library(cowplot)
library(zoo)
library(readr)
library(dplyr)
library(RColorBrewer)
library(gridExtra)
library(ggpmisc)
library(ggpmisc)
install.packages("ggpmisc")
library(ggpmisc)
install.packages("ggpmisc")
install.packages("ggpmisc")
install.packages("ggpmisc")
install.packages("quantreg")
.libPaths(quantreg)
.libPaths(quantreg)
.libPaths()
library(tidyverse)
library(lubridate)
library(data.table)
library(rio)
library(ggplot2)
library(scales)
library(psych)
library(here)
library(googledrive)
library(readxl)
library(cowplot)
library(zoo)
library(readr)
library(dplyr)
library(RColorBrewer)
library(gridExtra)
library(ggpmisc)
library(birk)
```
# Load in water pressure data
# urls
moos.atmo.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vQ7QMNWjVX1R43qflIW7lVqkj7wRHouhgQhWK76kfR8zK-UZg9bFSm92ccPy8T0luhFHKwsLNQQjA56/pub?output=csv"
moos.stream.one.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vRo04g32Yr3DsZbXQiw6VTPfgWuWq5csh1VhxfMy3IT3U6OkJOGvTlofjXwFfugiaRVJ34pPnOUZ3te/pub?output=csv"
moos.stream.two.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vQRXmAtoP_7I2RYEDZrdCT1LDyD8W3Thjst549srxdlWDMUYUyBjiGABd8pgtZE9Efa8b4Vgb3qtyoc/pub?output=csv"
# load in data
moos.atmo.2022 <- read.csv(url(moos.atmo.2022.url), skip = 1)
moos.stream.one.2022 <- read.csv(url(moos.stream.one.2022.url), skip = 1)
moos.stream.two.2022 <- read.csv(url(moos.stream.two.2022.url), skip = 1)
moos.atmo.2022
moos.stream.one.2022
moos.stream.two.2022
### POKE ####
poke.stream.one.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vR8p1pdbkQBMo54XaZinGwxyzojCnlkXeZid3EFvmt9v31PFvpsa1DlWClj8aG0kkJIuU57WXl-cq7Q/pub?output=csv"
poke.stream.two.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vR-wJjf3rO8eC7bMpQZgwqFLHFQpf5qCInyWtUF1PqaCB8Z_EoM1cTHRUmWypjftREIx1rP0V6zYJxL/pub?output=csv"
# load in url
poke.stream.one.2022 <- read.csv(url(poke.stream.one.2022.url), skip = 1)
poke.stream.two.2022 <- read.csv(url(poke.stream.two.2022.url), skip = 1)
poke.stream.one.202
poke.stream.two.2022
### STRT ####
strt.stream.one.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vS4XSmuumKD-j1aDhpA1gfyfrpqUiJUTuvcP9UGrgagvIrzlGYWk71hl0zAC8g8GHqOm1ONjWOpO_So/pub?output=csv" # WL
strt.stream.two.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vRhNn42-Jr1Y3aTFfMPiRxKrNZZjHeBBxkCmVcLVPQEKBf4qg_1Pw4nyUBr3mDwtEE8NKGIbS7kNSrS/pub?output=csv" #WR
# load in data
strt.stream.one.2022 <- read.csv(url(strt.stream.one.2022.url), skip = 1)
strt.stream.two.2022 <- read.csv(url(strt.stream.two.2022.url), skip = 1)
strt.stream.one.2022
strt.stream.two.2022
frch.stream.one.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vRkT5GIhFY4nLblzPi4Upc8y6Pk2k4vXLSGAkFyMhLowsCmct0fZ5rxm-vd85RfFr7YLrCuuSiOqQbL/pub?output=csv"
frch.stream.two.2022.url <-  "https://docs.google.com/spreadsheets/d/e/2PACX-1vRiDAbzBj_jHk1Hd3iM7fFvzMrRCSF9fbKTcmQD_dUFGOjoIQuBZBKV4KdNhfevLOq0Udch0LbWiKXw/pub?output=csv"
# load in url
frch.stream.one.2022 <- read.csv(url(frch.stream.one.2022.url), skip = 1)
frch.stream.two.2022 <- read.csv(url(frch.stream.two.2022.url), skip = 1)
frch.stream.one.2022
frch.stream.two.2022
# vaul.stream.one.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vRkT5GIhFY4nLblzPi4Upc8y6Pk2k4vXLSGAkFyMhLowsCmct0fZ5rxm-vd85RfFr7YLrCuuSiOqQbL/pub?output=csv"
vaul.stream.two.2022.url <- "https://docs.google.com/spreadsheets/d/e/2PACX-1vSR7qqdF5BXklT1ocG9bLLUwJ07ha8qmzAVRPaUjm7mUq12VptmViI9NJcW1-jO4cu0KtHBLl90A4DZ/pub?output=csv"
# load in url
#vaul.stream.one.2022 <- read.csv(url(vaul.stream.one.2022.url), skip = 1)
vaul.stream.two.2022 <- read.csv(url(vaul.stream.two.2022.url), skip = 1)
vaul.stream.two.2022
